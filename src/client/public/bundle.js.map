{"version":3,"sources":["webpack:///webpack/bootstrap 4228414491ca1b40bd45","webpack:///./src/client/app/index.js","webpack:///./src/client/app/style.scss","webpack:///./src/client/app/PlayGame.js","webpack:///./src/client/app/Simon.js"],"names":["padNodeList","document","querySelectorAll","padList","clickedItems","reference","middleBtn","getMiddleBtn","restart","getElementById","addEventListener","resetGame","i","length","push","isStarted","init","setTimeout","startGame","PlayGame","started","loser","stage","step","getRandArr","msg","start","simon","user","over","handler","players","red","querySelector","green","blue","yellow","firstChild","innerHTML","stageMsg","initRandArr","generateRandArr","console","log","simonPlay","userPlay","arr","c","event","pad","currentTarget","id","play","addToArr","map","removeEventListener","isOk","getUserArr","lostGame","emptyUserArr","animateOpacity","clearInterval","animate","padId","className","setInterval","emptyRandArr","arr1","arr2","el","every","getStage","Simon","userArr","randArr","colorArr","item","j","n","Math","floor","random"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4228414491ca1b40bd45\n **/","import StyleSheet from './style.scss'\r\nimport PlayGame from './PlayGame.js'\r\nimport Simon from './Simon.js'\r\n\r\n//\r\nconst padNodeList = document.querySelectorAll('.pad')\r\n//\r\nlet padList = []\r\n//\r\nlet clickedItems = []\r\nlet reference = []\r\n\r\nlet middleBtn = PlayGame.getMiddleBtn()\r\nlet restart = document.getElementById('restart')\r\nrestart.addEventListener('click', () => PlayGame.resetGame())\r\n\r\nfor (var i = 0; i < padNodeList.length; ++i) {\r\n  padList.push(padNodeList[i])\r\n}\r\n\r\n// console.log(padList) => [{},{},{},{}]\r\n\r\n\r\n// Play the game !\r\nmiddleBtn.addEventListener('click', function(){\r\n\r\n  //prevent the user from clicking again after the game is launched\r\n  if(!PlayGame.isStarted()){\r\n\r\n    //generate the first random arr\r\n    PlayGame.init()\r\n\r\n    // Simon 'says' his first random array\r\n    // then the user enters his answer\r\n    // the isOk() method compare them\r\n    // if lost => game over, else => next level\r\n    setTimeout(function(){\r\n      PlayGame.startGame(padList)\r\n    }, 1000)\r\n\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/app/index.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/app/style.scss\n ** module id = 1\n ** module chunks = 0\n **/","import Simon from './Simon.js'\r\n\r\nconst PlayGame = (() => {\r\n  //private attributes\r\n  let started = false\r\n  let loser = false\r\n  let stage = 0\r\n  let step = Simon.getRandArr().length\r\n  let msg = {\r\n    start: \"Start\",\r\n    init: \"Game Started\",\r\n    simon: \"Simon Playing\",\r\n    user: \"Your Turn\",\r\n    over: \"Game Over !\",\r\n  }\r\n  let handler\r\n\r\n  let players = {\r\n    red: document.querySelector('#redsound'),\r\n    green: document.querySelector('#greensound'),\r\n    blue: document.querySelector('#bluesound'),\r\n    yellow: document.querySelector('#yellowsound')\r\n  }\r\n\r\n\r\n  //elements\r\n  let middleBtn = document.getElementById('middle-btn')\r\n  middleBtn.firstChild.innerHTML = msg.start\r\n\r\n  let stageMsg = document.getElementById('stage')\r\n  stageMsg.innerHTML = \"Stage: \"+stage+', Steps: '+step\r\n\r\n  //public methodes\r\n  return {\r\n\r\n    init(){\r\n      // creating a random array\r\n      let initRandArr = Simon.generateRandArr(5)\r\n      middleBtn.firstChild.innerHTML = msg.init\r\n      step = Simon.getRandArr().length\r\n      stageMsg.innerHTML = \"Stage: \"+stage+', Steps: '+step\r\n    },\r\n\r\n    startGame(padList){\r\n      started = true\r\n      console.log(Simon.getRandArr())\r\n      PlayGame.simonPlay(padList)\r\n      middleBtn.firstChild.innerHTML = msg.simon\r\n    },\r\n\r\n    userPlay(arr){\r\n      // add a counter for the click\r\n      let c = 0\r\n\r\n      //declare the handler only once so the event does not fire multiple times with one click\r\n      if(!handler){\r\n        handler = function(event){\r\n\r\n          let pad = event.currentTarget\r\n          players[pad.id].play()\r\n          step--\r\n          stageMsg.innerHTML = \"Stage: \"+stage+', Steps: '+step\r\n\r\n          if(c < Simon.getRandArr().length){\r\n            Simon.addToArr(pad.id)\r\n            c++\r\n\r\n            if(c === Simon.getRandArr().length){\r\n              arr.map((pad, i) => {\r\n                pad.removeEventListener('click', handler, false)\r\n              })\r\n              let loser = !PlayGame.isOk(Simon.getRandArr(), Simon.getUserArr())\r\n\r\n              if(loser){\r\n                PlayGame.lostGame()\r\n              }else{\r\n                stage++\r\n                c = 0\r\n                Simon.emptyUserArr()\r\n                Simon.generateRandArr()\r\n                started = false\r\n                step = Simon.getRandArr().length\r\n                stageMsg.innerHTML = \"Stage: \"+stage+', Steps: '+step\r\n                PlayGame.startGame(arr)\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n\r\n\r\n\r\n      // enabling the event listeners to get user response\r\n      // attaching listeners for the click on each pad\r\n\r\n    },\r\n\r\n    simonPlay(arr){\r\n      //disable click when simon plays ??\r\n      //\r\n      let i = 0\r\n\r\n      function animateOpacity(){\r\n\r\n        if(i>= Simon.getRandArr().length){\r\n          clearInterval(animate)\r\n          middleBtn.firstChild.innerHTML = msg.user\r\n          arr.map((pad, i) => {\r\n            pad.addEventListener('click', handler, false)\r\n          })\r\n        }else{\r\n          let padId = Simon.getRandArr()[i]\r\n          let pad = document.getElementById(padId)\r\n          pad.className = 'pad active'\r\n          players[padId].play()\r\n\r\n          setTimeout(function(){\r\n            pad.className = 'pad'\r\n            i++\r\n          },1000)\r\n        }\r\n\r\n      }\r\n\r\n      var animate = setInterval(animateOpacity, 2000)\r\n\r\n      PlayGame.userPlay(arr)\r\n\r\n    },\r\n\r\n    resetGame(){\r\n      //empty userArr and randArr\r\n      Simon.emptyUserArr()\r\n      Simon.emptyRandArr()\r\n\r\n      started = false\r\n      loser = false\r\n      stage = 0\r\n\r\n      middleBtn.firstChild.innerHTML = msg.start\r\n    },\r\n\r\n    lostGame(){\r\n      middleBtn.firstChild.innerHTML = msg.over\r\n      setTimeout(function(){\r\n        PlayGame.resetGame()\r\n      }, 1000)\r\n    },\r\n\r\n    isOk(arr1, arr2){\r\n      //compare randArr and userArr\r\n\r\n\r\n      let arr = arr1\r\n        .map( (el, i) => {\r\n          return arr1[i] === arr2[i]\r\n        })\r\n        .every(function(el){\r\n          return el\r\n        })\r\n\r\n      return arr\r\n    },\r\n\r\n    isStarted(){\r\n      return started\r\n    },\r\n\r\n    getStage(){\r\n      return stage\r\n    },\r\n\r\n    getMiddleBtn(){\r\n      return middleBtn\r\n    }\r\n\r\n  }\r\n})()\r\n\r\nexport default PlayGame\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/app/PlayGame.js\n **/","const Simon = (() => {\r\n  // private attributes\r\n  let userArr = []\r\n  let randArr = []\r\n  const colorArr = ['red', 'green', 'blue', 'yellow']\r\n\r\n  return {\r\n    // public methods\r\n\r\n    addToArr(item){\r\n      userArr.push(item)\r\n    },\r\n\r\n    generateRandArr(j=1){\r\n\r\n      for( var i = 0; i<j; i++){\r\n        let n = Math.floor(Math.random()*4)\r\n\r\n        randArr.push(colorArr[n])\r\n      }\r\n      return randArr\r\n    },\r\n\r\n    getUserArr(){\r\n      return userArr\r\n    },\r\n\r\n    getRandArr(){\r\n      return randArr\r\n    },\r\n\r\n    emptyUserArr(){\r\n      userArr = []\r\n    },\r\n\r\n    emptyRandArr(){\r\n      randArr = []\r\n    }\r\n  }\r\n})()\r\n\r\nexport default Simon\n\n\n/** WEBPACK FOOTER **\n ** ./src/client/app/Simon.js\n **/"],"sourceRoot":""}